<html>

    <head>
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="palette.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
        

        <meta name="viewport" content="width=device-width, initial-scale=1.0">        

        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />


    </head>
    <body>
        
        <header class="col-9 dark-primary-color">
            <div id="logo"></div>
            <a id="hamburger" href="#"><div id="overlay"></div></a>
            <nav>
                <a href="#home">Home</a>
                <a href="#sponsor">I nostri sponsor</a>
                <a href="#contatti">Contatti</a>
            </nav>
            
        </header>
        <main class="col-9 default-primary-color">
            <img class="img" src="work.jpg"></img>
            <div class="interlaced"></div>
            <div id="chiSiamo">
                <p>Chi siamo</p>
                <span>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed nec finibus sem. Phasellus est metus, tempus nec fermentum scelerisque, rutrum eget odio. Nulla vel dui nunc. Aliquam tincidunt urna dolor, eget placerat quam lacinia in. Cras a feugiat ipsum. Vivamus semper nulla a est consectetur, eu consequat ante convallis. In vehicula quam vel venenatis scelerisque.</span>
            </div>

        </main>
        <aside class="col-3 col-m-3 news">
                <p>News</p>
                <div class="news-list">
                <article>
                    <p>Titolo 1</p>
                    <div>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec tempus est eleifend mi scelerisque, eu consectetur odio lobortis. Integer et.</div>
                </article>

                <article>
                    <p>Titolo 2</p>
                    <div>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec tempus est eleifend mi scelerisque, eu consectetur odio lobortis. Integer et.</div>
                </article>

                <article>
                    <p>Titolo 3</p>
                    <div>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec tempus est eleifend mi scelerisque, eu consectetur odio lobortis. Integer et.</div>
                </article>
        
                <article>
                    <p>Titolo 4</p>
                    <div>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec tempus est eleifend mi scelerisque, eu consectetur odio lobortis. Integer et.</div>
                </article>
            </div>
            <!-- <div> -->
                <i id="previousNews"></i>
                <i id="nextNews"></i>
            <!-- </div> -->
        </aside>
        <footer class="col-9">

            <i id="facebookButton"></i>

        </footer>

        <script>
        
            var onMobile = false;
            var articles = [].slice.call(document.querySelectorAll("article"));
            var newsEl  = document.querySelector(".news");
            var newsListEl  = document.querySelector(".news-list");
            var hamburgerEl = document.getElementById("hamburger");
            var newsShowed = 1;
            var offsetNews = 0;

            function checkMobile(){
                if( window.innerWidth > 768 ){
                    onMobile = false;
                }
                else{
                    onMobile = true;
                }
            }

            function sizeNews(e){
                checkMobile();
                if( onMobile ){
                   
                    for( i in articles){
                        articles[i].style.width = newsEl.clientWidth - 32+"px";
                    }

                    if( e.type != "DOMContentLoaded" ){
                        newsListEl.style.transition = "none";
                        offsetNews = (articles[0].clientWidth + 16) * (newsShowed-1)
                        newsListEl.style.transform = "translate(-"+ offsetNews +"px,0px)" 
                        
                        setTimeout(function(){
                            newsListEl.style.transition = "transform 300ms";
                        },100)
                        
                    }
                }   
                else{
                    for( i in articles){
                        articles[i].style.width = "";
                    }
                }
            }

            function goPreviousNews(){
                if( newsShowed > 1 && onMobile ){
                    offsetNews -= articles[0].clientWidth + 16
                    newsListEl.style.transform = "translate(-"+ offsetNews +"px,0px)"
                    newsShowed--
                }
            }

            function goNextNews(){
                if( newsShowed < articles.length && onMobile){
                    offsetNews += articles[0].clientWidth + 16
                    newsListEl.style.transform = "translate(-"+ offsetNews +"px,0px)"
                    newsShowed++
                }
            }

            window.onresize = sizeNews;
            window.addEventListener("DOMContentLoaded", sizeNews);
            document.getElementById("previousNews").addEventListener("click", goPreviousNews)
            document.getElementById("nextNews").addEventListener("click", goNextNews)
            // hamburgerEl.addEventListener("mouseover", function(e){
            //     if(!( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) ) {
            //         e.preventDefault();
            //     }         
                                 
            
            // })
        </script>

</html>